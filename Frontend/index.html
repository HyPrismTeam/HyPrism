<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link rel="icon" type="image/png" href="./icon.png"/>
    <title>HyPrism</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #090909;
        }
    </style>
    <script>
        // ── Sciter JS compatibility polyfills ──────────────────────────────────
        // Sciter's JS engine is QuickJS-based and lacks some browser globals
        // that libraries like Framer Motion expect.
        if (typeof queueMicrotask === 'undefined') {
            globalThis.queueMicrotask = function(fn) {
                Promise.resolve().then(fn).catch(function(e) {
                    setTimeout(function() { throw e; });
                });
            };
        }
        if (typeof MessageChannel === 'undefined') {
            globalThis.MessageChannel = function() {
                var h1 = [], h2 = [];
                this.port1 = {
                    onmessage: null,
                    postMessage: function(d) {
                        var e = { data: d };
                        queueMicrotask(function() {
                            h2.forEach(function(f) { f(e); });
                        });
                    }
                };
                this.port2 = {
                    onmessage: null,
                    postMessage: function(d) {
                        var e = { data: d };
                        queueMicrotask(function() {
                            h1.forEach(function(f) { f(e); });
                        });
                    }
                };
            };
        }
    </script>
</head>
<body>
<div id="root"></div>
<script src="./src/main.tsx" type="module"></script>
</body>
</html>
